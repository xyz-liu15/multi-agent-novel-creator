# 多智能体小说创作器

## 项目概述

多智能体小说创作器是一个创新项目，旨在利用多个AI智能体的力量，协同创作和撰写小说。该系统协调各种专业智能体，每个智能体都为讲故事过程的不同方面做出贡献，从大纲和角色发展到章节生成和情节推进。

## 主要作用

该项目的主要目标是通过以下方式自动化和增强创意写作过程：
-   **协作式讲故事：** 使不同的AI智能体能够协同工作，模拟一个作家团队。
-   **结构化小说生成：** 提供一个逐章生成小说的框架，确保连贯性和连续性。
-   **模块化设计：** 允许轻松集成新的智能体类型和工作流程增强功能。
-   **状态管理：** 持久化小说的进度和状态，允许迭代开发和恢复。

## 特性

*   **模块化智能体系统：** 针对不同创意任务（例如，大纲、章节写作）的专业智能体。
*   **协作协议：** 智能体之间进行通信和协作以构建故事。
*   **持久化故事状态：** 小说的进度被保存和管理，允许无缝继续。
*   **可配置工作流程：** 通过结构化工作流程定义和管理创作过程。
*   **可扩展架构：** 轻松添加新的智能体、故事元素或工作流程步骤。

## 项目架构

该项目旨在促进模块化和清晰的职责分离：

```
multi-agent-novel-creator/
├───.taskmaster/             # 任务管理和项目配置
├───data/                    # 存储持久化数据，例如 story_state.json
├───src/
│   ├───agent_manager.py     # 管理AI智能体的生命周期和交互
│   ├───main.py              # 应用程序的主入口点
│   ├───agents/              # 包含各种AI智能体的定义
│   │   ├───base_agent.py    # 所有智能体的基类
│   │   ├───chapter_agent.py # 负责撰写章节的智能体
│   │   └───outline_agent.py # 负责生成故事大纲的智能体
│   ├───persistence/         # 处理数据存储和检索
│   │   └───file_storage.py  # 管理文件的读写
│   ├───story/               # 故事创建和管理的核心逻辑
│   │   ├───collaboration_protocol.py # 定义智能体如何交互和共享信息
│   │   ├───story_elements.py         # 定义故事组件（角色、情节等）的数据结构
│   │   └───story_state_manager.py    # 管理小说的整体状态和进展
│   └───workflow/            # 定义创作过程和任务执行
│       ├───creative_workflow.py      # 协调创意任务的顺序
│       └───task_queue.py             # 管理智能体要处理的任务
└───pyproject.toml           # 项目依赖和元数据（由 uv 管理）
```

## 开始使用

### 前提条件

*   Python 3.9+
*   **`uv`**：一个快速的Python包安装器和解析器。强烈建议使用它来管理该项目的依赖项，因为它速度快且效率高。您可以通过 `pip install uv` 安装它。

### 安装

1.  **克隆仓库：**
    ```bash
    git clone https://github.com/your-username/multi-agent-novel-creator.git
    cd multi-agent-novel-creator
    ```

2.  **使用 `uv` 安装依赖：**
    ```bash
    uv sync
    ```
    此命令将创建一个虚拟环境并安装 `pyproject.toml` 中定义的所有必要依赖项。

### 使用方法

要开始生成小说，请使用 `uv` 运行主应用程序脚本：

```bash
uv run python src/main.py
```

此命令确保项目在 `uv` 管理的虚拟环境中运行。应用程序将引导您完成小说创作过程，利用配置的AI智能体。小说的进度，包括生成的大纲、角色和章节内容，都持久化保存在 `data/story_state.json` 文件中。此文件在整个过程中都会更新，以反映小说的持续进展。您可以随时查看此JSON文件，或者运行 `uv run python src/main.py status` 命令以获取摘要。

## 贡献

欢迎贡献！请随时提交问题或拉取请求。

## 许可证

[在此处指定您的许可证，例如 MIT、Apache 2.0 等]